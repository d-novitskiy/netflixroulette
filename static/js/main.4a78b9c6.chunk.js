(this.webpackJsonpemoji=this.webpackJsonpemoji||[]).push([[0],{10:function(e,t,a){e.exports={wrapper:"styles_wrapper__3EJfm",container:"styles_container__IekG9",title:"styles_title__20I72",search:"styles_search__384fR",searchForm:"styles_searchForm__s2zNM",input:"styles_input__nU-UD",enter:"styles_enter__1Qn2u",span:"styles_span__27dVd",controlPanel:"styles_controlPanel__PX3wj",btn:"styles_btn__1zpE6"}},11:function(e,t,a){e.exports={container:"styles_container__Naco1",sorting:"styles_sorting__3ufgy",sortingBy:"styles_sortingBy__3s3LS",btn:"styles_btn__1hoBS",active:"styles_active__1jWvf"}},12:function(e,t,a){e.exports={container:"styles_container__3d7zE",btn:"styles_btn__1WEBV",active:"styles_active__2dRKT"}},14:function(e,t,a){e.exports={container:"styles_container__1UE6m",poster:"styles_poster__2_AoK",description:"styles_description__3NnJv",title:"styles_title__2QtQQ",year:"styles_year__FcehH",genres:"styles_genres__1BrJp",rating:"styles_rating__1HSB9"}},23:function(e,t,a){e.exports={searchSpan:"styles_searchSpan__3_2Oy",btn:"styles_btn__1HsBO",active:"styles_active__2YWJ7"}},28:function(e,t,a){e.exports={container:"styles_container__1Z2Jc",title:"styles_title__27WR-"}},29:function(e,t,a){e.exports={container:"styles_container__1owPM",select:"styles_select__3g5kU"}},35:function(e,t,a){e.exports={container:"styles_container__3r2iK"}},36:function(e,t,a){e.exports=a(68)},46:function(e,t,a){},47:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),i=a(15),o=a(19),l=a(13),u=a(33),m=a(4),p={data:[],movieDescription:[],loading:!1,error:null,total:0,offset:0,limit:9,inputValue:"",searchBy:"title",sortBy:"release_date",sortOrder:"desc"};var _=Object(l.combineReducers)({moviesApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:t.loading,error:null,sorting:null});case"GET_MOVIES_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,data:t.data,total:t.total,offset:t.offset});case"GET_MOVIES_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.data});case"GET_MOVIE_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0,error:null});case"GET_MOVIE_DESCRIPTION":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,movieDescription:t.movieDescription});case"SET_SORTING":return Object(m.a)(Object(m.a)({},e),{},{sortBy:t.sortBy});case"SET_SEARCHING_VALUE":return Object(m.a)(Object(m.a)({},e),{},{inputValue:t.inputValue});case"SET_SEARCH_BY":return Object(m.a)(Object(m.a)({},e),{},{searchBy:t.searchBy});default:return e}}}),E=a(16),d=a.n(E),v=a(22);function y(){return(y=Object(v.a)(d.a.mark((function e(t,a,n,c,r,s){var i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reactjs-cdp.herokuapp.com/movies?sortBy=".concat(r,"&sortOrder=").concat(s,"&search=").concat(t,"&searchBy=").concat(a,"&offset=").concat(n,"&limit=").concat(c));case 2:return i=e.sent,e.next=5,i.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://reactjs-cdp.herokuapp.com/movies/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=Object(l.createStore)(_,Object(u.composeWithDevTools)(Object(l.applyMiddleware)((function(e){return function(t){return function(a){if("GET_MOVIES_REQUEST"===a.type){var n=e.getState().moviesApp.inputValue,c=e.getState().moviesApp.searchBy,r=e.getState().moviesApp.sortBy,s=e.getState().moviesApp.sortOrder;(function(e,t,a,n,c,r){return y.apply(this,arguments)})(n,c,a.offset,a.limit,r,s).then((function(t){e.dispatch({type:"GET_MOVIES_SUCCESS",data:t.data,total:t.total,offset:t.offset,limit:t.limit})})).catch((function(t){e.dispatch({type:"GET_MOVIES_FAILURE",data:t.message})}))}return t(a)}}}),(function(e){return function(t){return function(a){return"GET_MOVIE_REQUEST"===a.type&&function(e){return f.apply(this,arguments)}(a.id).then((function(t){e.dispatch({type:"GET_MOVIE_DESCRIPTION",movieDescription:t})})).catch((function(t){e.dispatch({type:"GET_MOVIES_FAILURE",data:t.message})})),t(a)}}})))),h=(a(46),a(17)),g=(a(47),a(34)),S=a.n(g),N=a(3),O=a(10),k=a.n(O);function T(e){var t=e.onClick,a=e.children,n=e.id,r=e.className;return c.a.createElement("button",{id:n,type:"button",className:r,onClick:t},a)}var j=a(23),w=a.n(j);function C(e){var t=e.searchBy,a=e.onSearchByClick;return console.log(t),c.a.createElement("div",null,c.a.createElement("span",{className:w.a.searchSpan},"Search by"),["title","genres"].map((function(e){return c.a.createElement(T,{key:e,id:e,className:"".concat(w.a.btn," ").concat(t===e?"".concat(w.a.active):""),onClick:a},e)})))}function I(e){var t=e.placeholder,a=e.onSearchClick,n=e.onSearchByClick,r=e.value,s=e.onChange,i=e.searchBy,o=e.onSubmit,l=e.siteName;return c.a.createElement("div",{className:k.a.wrapper},c.a.createElement("div",{className:k.a.container},c.a.createElement("h1",{className:k.a.title},l),c.a.createElement("div",{className:k.a.searchForm},c.a.createElement("span",{className:k.a.span},"Find your movie"),c.a.createElement("form",{onSubmit:o},c.a.createElement("div",{className:k.a.search},c.a.createElement("input",{onChange:function(e){s(e.target.value)},value:r,placeholder:t,className:k.a.input,type:"text"}),c.a.createElement("span",{className:k.a.enter})),c.a.createElement("div",{className:k.a.controlPanel},c.a.createElement(C,{onSearchByClick:function(e){n(e.target.id)},searchBy:i}),c.a.createElement("div",null,c.a.createElement(T,{className:k.a.btn,onClick:a},"search")))))))}var B=a(11),R=a.n(B);function V(e){var t=e.children,a=e.select,n=e.onSortClick,r=e.active;function s(e){n(e.target.value)}return c.a.createElement("div",{className:R.a.container},c.a.createElement("div",{className:R.a.counter},t),c.a.createElement("div",null,a),c.a.createElement("div",{className:R.a.sorting},c.a.createElement("span",null,"Sort by:"),c.a.createElement("ul",{className:R.a.sortingBy},c.a.createElement("li",null,c.a.createElement("button",{className:"release_date"===r?"".concat(R.a.btn," ").concat(R.a.active):R.a.btn,value:"release_date",type:"button",onClick:s},"Realease date")),c.a.createElement("li",null,c.a.createElement("button",{className:"vote_average"===r?"".concat(R.a.btn," ").concat(R.a.active):R.a.btn,value:"vote_average",type:"button",onClick:s},"Rating")))))}var x=a(35),G=a.n(x);function M(e){var t=e.children;return c.a.createElement("div",{className:G.a.container},t)}var U=a(14),A=a.n(U);function D(e){var t=e.title,a=e.poster,n=e.onError,r=e.year,s=e.genres,o=e.id,l=e.rating;return c.a.createElement(i.b,{to:"/movies/".concat(o)},c.a.createElement("div",{id:o,className:A.a.container,onKeyDown:function(){return o},role:"button",tabIndex:0},c.a.createElement("div",{className:A.a.poster},c.a.createElement("div",{className:A.a.rating},l),c.a.createElement("img",{alt:t,src:a,onError:n})),c.a.createElement("div",{className:A.a.description},c.a.createElement("div",{className:A.a.title},t),c.a.createElement("div",{className:A.a.year},c.a.createElement("span",null,r))),c.a.createElement("div",{className:A.a.genres},s)))}var P=a(28),Q=a.n(P);function F(e){var t=e.siteName;return c.a.createElement("div",{className:Q.a.container},c.a.createElement("span",{className:Q.a.title},t))}var H=a(12),W=a.n(H);function z(e){var t=e.id,a=e.pageNumber,n=e.onClick,r=e.isActive,s=e.disabled;return c.a.createElement("li",{key:t},c.a.createElement("button",{disabled:s,type:"button",id:a,onClick:function(){n(a)},className:"".concat(W.a.btn," ").concat(r?W.a.active:"")},a))}function J(e){for(var t=e.moviesPerPage,a=e.total,r=e.paginate,s=e.changeActivePage,i=e.currentPage,o=Math.ceil(a/t),l=[],u=1;u<=o;u++)l.push(u);var m=Math.ceil(o/10),p=Object(n.useState)(1),_=Object(h.a)(p,2),E=_[0],d=_[1],v=10*(E-1)+1,y=10*E,f=function(e){window.scrollTo({top:0,behavior:"smooth"}),r(e)},b=function(e){switch(e.target.id){case"first":d(1),s(1),window.scrollTo({top:0,behavior:"smooth"});break;case"prev":d(E-1),s(v-1),window.scrollTo({top:0,behavior:"smooth"});break;case"next":d(E+1),s(v+10),window.scrollTo({top:0,behavior:"smooth"});break;case"last":d(m),s(o),window.scrollTo({top:0,behavior:"smooth"})}};return l.length<=1?null:c.a.createElement("div",{className:W.a.container},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("button",{disabled:!(E>1),id:"first",type:"button",className:W.a.btn,onClick:b},"<<")),c.a.createElement("li",null,c.a.createElement("button",{disabled:!(E>1),id:"prev",type:"button",className:W.a.btn,onClick:b},"<")),l.filter((function(e){return e>=v&&e<=y})).map((function(e){return c.a.createElement(z,{pageNumber:e,onClick:f,disabled:i===e,isActive:i===e,key:e})})),c.a.createElement("li",null,c.a.createElement("button",{disabled:!(m>E),id:"next",type:"button",className:W.a.btn,onClick:b},">")),c.a.createElement("li",null,c.a.createElement("button",{disabled:!(m>E),id:"last",type:"button",className:W.a.btn,onClick:b},">>"))))}var L=a(9),K=a.n(L);function Y(e){var t=e.title,a=e.genres,r=e.description,s=e.popularity,o=e.budget,l=e.img,u=e.displayDescription,m=e.style,p=Object(N.f)().id;return Object(n.useEffect)((function(){u(p)}),[p]),c.a.createElement("div",{className:K.a.modal,style:m},c.a.createElement(i.b,{className:K.a.modal,style:{background:"none"},to:"/movies"}),c.a.createElement("div",{className:K.a.container},c.a.createElement("div",{style:{backgroundImage:"url(".concat(l,")"),backgroundColor:"#ccc",backgroundSize:"cover",backgroundPosition:"center",width:"600px",margin:"0 auto"}},c.a.createElement("div",{className:K.a.description},c.a.createElement("h1",{className:K.a.title},t),c.a.createElement("div",{className:K.a.genres},a),c.a.createElement("div",{className:K.a.movieDescription},"Description: ".concat(r)),c.a.createElement("div",{className:K.a.movieDescription},"Rating: ".concat(s)),c.a.createElement("div",{className:K.a.movieDescription},"Budget: ".concat(o)),c.a.createElement("div",{className:K.a.link},c.a.createElement("a",{className:K.a.linkInner,target:"blank",href:"https://rezka.ag/index.php?do=search&subaction=search&q=".concat(t)},"search on rezka.ag"))))))}var X=a(29),q=a.n(X);function Z(e){var t=e.value,a=e.onSelectChange;return c.a.createElement("div",{className:q.a.container},c.a.createElement("span",null,"show"),c.a.createElement("select",{className:q.a.select,value:t,onChange:function(e){a(e.target.value)}},c.a.createElement("option",{value:"9"},"9"),c.a.createElement("option",{value:"15"},"15"),c.a.createElement("option",{value:"30"},"30"),c.a.createElement("option",{value:"45"},"45")),c.a.createElement("span",null,"movies per page"))}var $=function(){var e=Object(o.c)((function(e){return e.moviesApp})),t=e.data,a=e.total,r=e.loading,s=e.movieDescription,i=e.sortBy,l=e.searchBy,u=Object(o.b)(),m=Object(n.useState)(""),p=Object(h.a)(m,2),_=p[0],E=p[1],d=Object(n.useState)(1),v=Object(h.a)(d,2),y=v[0],f=v[1],b=Object(n.useState)(9),g=Object(h.a)(b,2),O=g[0],k=g[1];function T(e){e.preventDefault(),f(1),E(""),""!==_&&(u({type:"SET_SEARCHING_VALUE",inputValue:_.toLowerCase(),searchBy:l}),u({type:"GET_MOVIES_REQUEST",offset:0,limit:O,loading:!0}))}return Object(n.useEffect)((function(){u({type:"GET_MOVIES_REQUEST",loading:!0,offset:0,limit:O})}),[]),c.a.createElement(N.c,null,c.a.createElement("div",{className:"wrapper"},c.a.createElement(I,{siteName:"netflixroulette",value:_,searchBy:l,onChange:E,onSearchByClick:function(e){u({type:"SET_SEARCH_BY",searchBy:e})},onSearchClick:T,placeholder:"Type to find a movie",onSubmit:T}),c.a.createElement(V,{active:i,onSortClick:function(e){u({type:"SET_SORTING",sortBy:e}),u({type:"GET_MOVIES_REQUEST",offset:(y-1)*O,limit:O})},select:c.a.createElement(Z,{value:O,onSelectChange:function(e){k(e),u({type:"GET_MOVIES_REQUEST",offset:(y-1)*e,limit:e})}})},"".concat(a," \n          movies found")),c.a.createElement(M,null,0===t.length?c.a.createElement("div",{className:"emptyBody"},"Find your movie"):t.map((function(e){var t=new Date(e.release_date);return c.a.createElement(D,{key:e.id,poster:e.poster_path,title:e.title,onError:function(e){return e.target.src="https://lascrucesfilmfest.com/wp-content/uploads/2018/01/no-poster-available-737x1024.jpg"},genres:e.genres.join(", "),year:t.getFullYear(),id:e.id,rating:e.vote_average})}))),c.a.createElement(J,{moviesPerPage:O,total:a,paginate:function(e){f(e),u({type:"GET_MOVIES_REQUEST",loading:!1,offset:(e-1)*O,limit:O})},changeActivePage:function(e){f(e),u({type:"GET_MOVIES_REQUEST",offset:(e-1)*O,limit:O})},currentPage:y}),c.a.createElement(F,{siteName:"netflixroulette"}),c.a.createElement("div",{className:"loader",style:{visibility:"".concat(r?"visible":"hidden"),zIndex:"".concat(r?"1":"-1")}},c.a.createElement("div",{className:"loader_inner"},c.a.createElement(S.a,{color:"#f65064",type:"Bars",visible:r}))),c.a.createElement(N.a,{path:"/movies/:id"},c.a.createElement(Y,{style:{visibility:"".concat(r?"hidden":"visible")},title:s.title,genres:void 0===s.genres?"":s.genres.join(", "),description:s.overview,popularity:s.vote_average,budget:s.budget,img:s.poster_path,displayDescription:function(e){u({type:"GET_MOVIE_REQUEST",id:e})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(o.a,{store:b},c.a.createElement(i.a,null,c.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports={modal:"styles_modal__33681",container:"styles_container__14UoR",title:"styles_title__OGcIF",description:"styles_description__WrewH",genres:"styles_genres__2fREM",movieDescription:"styles_movieDescription__3tkjh",link:"styles_link__1yu5p",linkInner:"styles_linkInner__26TkX"}}},[[36,1,2]]]);
//# sourceMappingURL=main.4a78b9c6.chunk.js.map